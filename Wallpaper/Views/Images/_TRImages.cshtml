@model PagedList.IPagedList<Wallpaper.Models.Image>

@foreach (var item in Model)
{
    var imgSrc = String.Format("data:image/gif;base64,{0}", item.ImageEncoding);
    bool liked = false, shared = false;
    foreach (var action in item.TakenActions)
    {
        if (action.MyUser.ID == ViewBag.UserId)
        {
            if (action.Action == Wallpaper.Models.ActionType.Like)
            {
                liked = true;
            }
            if (action.Action == Wallpaper.Models.ActionType.Share)
            {
                shared = true;
            }
        }
    }
    <div class="row">
        <div class="col-md-offset-3 col-md-6">
            <img src="@imgSrc" style="max-height: 300px;" />
            @Html.DisplayFor(modelItem => item.BrandId)
            @Html.DisplayFor(modelItem => item.CarName)
            @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
            @Html.ActionLink("Details", "Details", new { id = item.ID }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.ID }) |
            @Html.ActionLink((liked ? "Unike" : "Like"), "Like", new { id = item.ID }, new { @class = "likeIndex" }) |
            @Html.ActionLink((shared ? "Unshare" : "Share"), "Share", new { id = item.ID }, new { @class = "shareIndex" }) |
            @Html.ActionLink("Download", "Download", new { id = item.ID })
        </div>
    </div>
}
